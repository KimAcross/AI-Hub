# AI-Across Environment Configuration
# Copy this file to .env and fill in the values
#
# For production deployment, see docs/DEPLOYMENT.md

# ===================
# Database
# ===================
DATABASE_URL=postgresql+asyncpg://aiacross:aiacross@localhost:5432/aiacross
# For Docker: postgresql+asyncpg://aiacross:aiacross@db:5432/aiacross

# Connection Pool Settings (optional, defaults shown)
# DB_POOL_SIZE=10
# DB_MAX_OVERFLOW=20
# DB_POOL_TIMEOUT=30
# DB_POOL_RECYCLE=1800

# ===================
# OpenRouter API
# ===================
# Get your API key at: https://openrouter.ai/keys
# NOTE: API keys are encrypted at rest in the database
OPENROUTER_API_KEY=sk-or-your-api-key-here
OPENROUTER_BASE_URL=https://openrouter.ai/api/v1
DEFAULT_MODEL=anthropic/claude-3.5-sonnet

# ===================
# Embeddings
# ===================
EMBEDDING_MODEL=text-embedding-3-small

# ===================
# ChromaDB
# ===================
CHROMA_PERSIST_DIR=./data/chroma

# ===================
# File Storage
# ===================
UPLOAD_DIR=./data/uploads
MAX_FILE_SIZE_MB=50

# ===================
# Security
# ===================
# CRITICAL: Generate a secure random key for production!
# This key is used for JWT signing and API key encryption.
# Generate with: python -c "import secrets; print(secrets.token_urlsafe(32))"
# Or: openssl rand -base64 32
SECRET_KEY=change-this-secret-key-in-production
ACCESS_TOKEN_EXPIRE_HOURS=8

# ===================
# Admin Dashboard
# ===================
# Password for admin dashboard access
#
# DEVELOPMENT: You can use a plaintext password
# ADMIN_PASSWORD=my-secure-password
#
# PRODUCTION: Use a bcrypt hash for security
# Generate with: python -c "import bcrypt; print(bcrypt.hashpw(b'your-password', bcrypt.gensalt()).decode())"
ADMIN_PASSWORD=change-this-admin-password

# ===================
# Application
# ===================
APP_NAME=AI-Across
APP_VERSION=0.9.0
# IMPORTANT: Set to 'production' for production deployment
# In production: SECRET_KEY must be changed, DEBUG should be false
APP_ENV=development
DEBUG=false

# ===================
# Rate Limiting
# ===================
# App-level rate limiting (applied per IP)
RATE_LIMIT_ENABLED=true
RATE_LIMIT_LOGIN=5/minute
RATE_LIMIT_CHAT=30/minute
RATE_LIMIT_UPLOAD=10/minute
RATE_LIMIT_SETTINGS=10/minute

# ===================
# Cache Settings
# ===================
# API response caching (models endpoint)
CACHE_TTL_SECONDS=300

# ===================
# CORS
# ===================
# IMPORTANT: Update with your production domain(s)
# Do NOT use wildcards (*) in production
CORS_ORIGINS=["http://localhost:5173","http://localhost:3000"]

# ===================
# Frontend (Vite)
# ===================
VITE_API_URL=http://localhost:8000

# ===================
# Production Settings
# ===================
# Uncomment and configure for production deployment

# SSL Configuration
# SSL_CERT_PATH=/etc/letsencrypt/live/your-domain.com/fullchain.pem
# SSL_KEY_PATH=/etc/letsencrypt/live/your-domain.com/privkey.pem

# Logging
# LOG_LEVEL=INFO
# LOG_FORMAT=json

# Backup Configuration
# BACKUP_ENABLED=true
# BACKUP_SCHEDULE=0 2 * * *
# BACKUP_RETENTION_DAYS=7
# BACKUP_S3_BUCKET=

# Monitoring
# METRICS_ENABLED=false
# METRICS_PORT=9090

# ===================
# Production Checklist
# ===================
# Before deploying to production, ensure:
# [ ] APP_ENV=production
# [ ] DEBUG=false
# [ ] SECRET_KEY is changed from default (app will fail to start if not)
# [ ] ADMIN_PASSWORD is set (preferably as bcrypt hash)
# [ ] CORS_ORIGINS contains only your production domain(s)
# [ ] OPENROUTER_API_KEY is set
# [ ] Database credentials are secure (not defaults)
